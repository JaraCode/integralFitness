:javascript
  window.onload = function() { 
    var divLine = document.getElementById("line-chart");
    new Chart(divLine.getContext("2d"), {
      type: 'line',
      data: {
        labels: JSON.parse(divLine.dataset.date),
        datasets: [{ 
            data: JSON.parse(divLine.dataset.weight),
            label: "Peso Total",
            borderColor: "#3cba9f",
            /* backgroundColor: "#3cba9f" */
            fill: true
          }, { 
            data: JSON.parse(divLine.dataset.lean),
            label: "Masa Magra",
            borderColor: "#8e5ea2",
            fill: false
          },{ 
            data: JSON.parse(divLine.dataset.fat),
            label: "Masa Grasa",
            borderColor: "#3e95cd",
            fill: false,
            borderDash: [5, 5]
  					            
          }]
      },
      options: {
        title: {
          display: true,
          responsive: true,
          text: 'Historico Asesorado'
        }
      }
    });
    
    var divPolar = document.getElementById("polar-chart");
    
    var fatMass = document.getElementById("now_fat_mass").textContent;
    var muscleMass = document.getElementById("now_muscle_mass").textContent;
    var skeletalMass = document.getElementById("now_skeletal_mass").textContent;
    var residualMass = document.getElementById("now_residual_mass").textContent;
    var total_mass = [fatMass, muscleMass, skeletalMass, residualMass]; 
    console.log(total_mass);
    new Chart(divPolar.getContext("2d"), {
        type: 'polarArea',
        data: {
          labels: ["Masa Grasa", "Masa Muscular", "Masa Ósea", "Masa Residual"],
          datasets: [
            {
              label: "División Peso Total",
              backgroundColor: ["#3e95cd", "#8e5ea2","#c45850","#e8c3b9"],
              data: total_mass
            }
          ]
        },
        options: {
          title: {
            display: true,
            responsive: true,
            text: 'División Peso Total'
          }
        }
    });
  }
.row
  .col.s12.m12.l12
    .card
      .card-content
        .center-align
          %span.card-title 
            Plan (
            %small= @plan.created_at.strftime("%d/%m/%g")
            - if !@plan.guest.next.blank? 
              \-
              %small= @plan.guest.next&.strftime("%d/%m/%g")
            )
        .row
          .col.s12.m5
            %h5 Info. Asesorado
            %hr
            %p
              %b Nombre: 
              %span= @plan.guest.name&.titleize
            %p
              %b Email: 
              %span= @plan.guest.email&.downcase
            %p            
              %b Teléfono: 
              %span= @plan.guest.phone
            %p
              %b Altura: 
              %span
                = @plan.guest.height
                CM                
            %p
              %b Edad: 
              %span= @plan.guest.age
            %h5 Información Plan
            %p
              %b Nivel de Actividad: 
              %span= @plan.activity 
            %p
              %b Objetivo: 
              %span= @plan.goal
            %p
              %b Variación Calorica: 
              %span
                = @plan.variation
                \%
            %p
              %b Calorías Diarias: 
              %span
                = @plan.kcal
                KCALS
              %ul.browser-default 
                %li
                  %b Proteinas: 
                  %span
                    = @plan.proteins
                    \%
                %li
                  %b Carbohidratos: 
                  %span
                    = @plan.carbs
                    \%
                %li
                  %b Grasas: 
                  %span
                    = @plan.fats
                    \%              
          .col.s12.m7
            %canvas#line-chart{width: "100%", height:"100%", data: { weight: @weights, lean: @lean_mass, fat: @fat_mass, date: @date }}             
        .row
          %h5 Estadísticas Peso
          .col.s12.m7
            %canvas#polar-chart{width: "100%", height:"100%"}             
          .col.s12.m5        
            %p
              %b Peso: 
              %span
                = @plan.weight
              %span
                Kg
            %p
              %b Grasa: 
              %span
                = @plan.fat
              %span                
                \%
            %p
              %b Masa Grasa: 
              %span#now_fat_mass
                = @plan.fat_mass
              %span
                Kg
            %p
              %b Masa Magra: 
              %span
                = @plan.lean_mass
              %span
                Kg
              %ul.browser-default 
                %li
                  %b Masa Muscular: 
                  %span#now_muscle_mass
                    = @plan.muscle_mass
                  %span
                    Kg
                %li
                  %b Masa Ósea: 
                  %span#now_skeletal_mass
                    = @plan.skeletal_mass
                  %span
                    Kg
                %li
                  %b Masa Residual: 
                  %span#now_residual_mass
                    = @plan.residual_mass
                  %span
                    Kg             
            %br/
          - !@plan.description.blank?
          .col.s12
            %br      
            %br
            %canvas#myChart{width: "100%", height:"100%"}